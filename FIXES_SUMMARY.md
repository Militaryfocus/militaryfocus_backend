# –û—Ç—á—ë—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –∏ –∞–Ω–∞–ª–∏–∑–µ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –≤–æ–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–í–µ—Å—Ç–∏.—Ä—É, –†–ò–ê –ù–æ–≤–æ—Å—Ç–∏, YouTube), –∏—Ö —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ OpenAI –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ REST API.

---

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `war_site/settings.py`

**–ü—Ä–æ–±–ª–µ–º—ã**:
- ‚ùå –û–ø–µ—á–∞—Ç–∫–∞: `TEMPlATE_DIR` –≤–º–µ—Å—Ç–æ `TEMPLATE_DIR`
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `STATIC_ROOT` (–æ–±—ä—è–≤–ª–µ–Ω–æ –¥–≤–∞–∂–¥—ã)
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `CORS_ALLOW_CREDENTIALS = True`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –∏–º–µ–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –£–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –±–ª–æ–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

### 2. **–°–ª–æ–º–∞–Ω–Ω—ã–π Middleware** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `war_site/middleware.py`

**–ü—Ä–æ–±–ª–µ–º–∞**:
```python
# ‚ùå –ë–´–õ–û - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è response –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
def middleware(request):
    response["Access-Control-Allow-Origin"] = "..."
    return response
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# ‚úÖ –°–¢–ê–õ–û
def middleware(request):
    response = get_response(request)  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    response["Access-Control-Allow-Origin"] = "..."
    return response
```

---

### 3. **–û—à–∏–±–∫–∏ –≤ –º–æ–¥—É–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ Vesti.ru** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `scrape_content_application/donor_platforms_scraping/vestiru.py`

**–ü—Ä–æ–±–ª–µ–º—ã**:
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–º–ø–æ—Ä—Ç `IntegrityError` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ)
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `import os`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `from django.db import IntegrityError`
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ –£–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã

---

### 4. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏ –≤ ria_ru.py** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `scrape_content_application/donor_platforms_scraping/ria_ru.py`

**–ü—Ä–æ–±–ª–µ–º–∞**:
```python
# ‚ùå –ë–´–õ–û - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ 'title'
article = ArticleContent(
    title=article_data['title'],  # –ù–µ—Ç —Ç–∞–∫–æ–≥–æ –ø–æ–ª—è!
    article_content=get_content_to_change(...)
)
```

**–ú–æ–¥–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç**: `article_title` (–Ω–µ `title`)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# ‚úÖ –°–¢–ê–õ–û - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π
uniqualized = get_content_to_change(article_data['title'] + ' ' + article_data['content'])
article = ArticleContent(
    article_title=uniqualized['title_unic'].replace("##", "").replace("#", ""),
    article_content=uniqualized['article_unic'].replace("##", "").replace("#", ""),
    article_link=article_data['link'],
    source=source
)
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ä—É—Å—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫ (–±—ã–ª–∏ –∫—Ä—è–∫–æ–∑—è–±—Ä—ã)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

---

### 5. **–ü—Ä–æ–±–ª–µ–º—ã –≤ YouTube –º–æ–¥—É–ª–µ** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `scrape_content_application/donor_platforms_scraping/youtube_module/youtube_video_content.py`

**–ü—Ä–æ–±–ª–µ–º—ã**:
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã:
  ```python
  import youtube_last_video_link, extract_text, extract_audio  # –û—à–∏–±–∫–∞!
  ```
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `title` –≤–º–µ—Å—Ç–æ `article_title`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
from . import youtube_last_video_link, extract_text, extract_audio

# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏
article = ArticleContent(
    article_title=title_uniqualized['title_unic']...,
    article_content=content_uniqualized['article_unic']...,
    ...
)
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –†–∞–∑–¥–µ–ª—å–Ω–∞—è —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

---

### 6. **–°–ª–æ–º–∞–Ω–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `scrape_content_application/donor_platforms_scraping/scrpaers_scheduler.py`

**–ü—Ä–æ–±–ª–µ–º—ã**:
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–º–ø–æ—Ä—Ç `youtube_video_content`
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio.create_task()`:
  ```python
  # ‚ùå –ë–´–õ–û - await –Ω–∞ task –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–µ–Ω
  await asyncio.create_task(run_parser_vestiru())
  ```
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
```python
# ‚úÖ –°–¢–ê–õ–û - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
async def run_parsers():
    tasks = [
        asyncio.create_task(run_parser_vestiru()),
        asyncio.create_task(run_parser_youtube())
    ]
    await asyncio.gather(*tasks, return_exceptions=True)
```

**–£–ª—É—á—à–µ–Ω–∏—è**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π logger —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –∫–∞–∂–¥–æ–º –ø–∞—Ä—Å–µ—Ä–µ (try/except)
- ‚úÖ –ü–µ—Ä–≤–∏—á–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ

---

### 7. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–π OpenAI API** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–§–∞–π–ª**: `scrape_content_application/uniqalise_content_with_ai/uniqalise_script.py`

**–ü—Ä–æ–±–ª–µ–º–∞**:
```python
# ‚ùå –ë–´–õ–û - —Å—Ç–∞—Ä—ã–π API (deprecated —Å 2023)
import openai
openai.api_key = api_key
openai.proxy = {...}
response = openai.ChatCompletion.create(...)
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# ‚úÖ –°–¢–ê–õ–û - –Ω–æ–≤—ã–π API (v1.x)
from openai import OpenAI, RateLimitError
client = OpenAI(api_key=api_key)
response = client.chat.completions.create(...)
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—â–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π (–Ω–µ —Ç–æ–ª—å–∫–æ RateLimitError)
- ‚úÖ –§–æ–ª–ª–±—ç–∫-–∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –ø—Ä–æ–º–ø—Ç–∞
- ‚úÖ –ü—Ä–æ–º–ø—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ docstring –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏

---

### 8. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** ‚úÖ –°–û–ó–î–ê–ù

**–§–∞–π–ª**: `openai_copywriter_prompt.json`

**–ü—Ä–æ–±–ª–µ–º–∞**: –§–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –∫–æ–¥–µ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤ –ø—Ä–æ–µ–∫—Ç–µ

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –ø—Ä–æ–º–ø—Ç–æ–º –¥–ª—è —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏:
```json
{
  "prompt": "–ü–µ—Ä–µ–ø–∏—à–∏ —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–µ–Ω–Ω—ã–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª..."
}
```

---

### 9. **–ù–µ–ø–æ–ª–Ω—ã–π requirements.txt** ‚úÖ –û–ë–ù–û–í–õ–Å–ù

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤

**–î–æ–±–∞–≤–ª–µ–Ω–æ**:
```
aiohttp==3.9.1           # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
beautifulsoup4==4.12.2   # –ü–∞—Ä—Å–∏–Ω–≥ HTML
lxml==4.9.3              # –ü–∞—Ä—Å–µ—Ä –¥–ª—è BeautifulSoup
requests==2.31.0         # HTTP –∑–∞–ø—Ä–æ—Å—ã
openai==1.12.0           # OpenAI API (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
schedule==1.2.0          # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
yt-dlp==2024.3.10        # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ YouTube –≤–∏–¥–µ–æ
openai-whisper==20231117 # –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
```

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–¥—É–ª–µ–π

### –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
–ò—Å—Ç–æ—á–Ω–∏–∫–∏ ‚Üí –ü–∞—Ä—Å–µ—Ä—ã ‚Üí AI –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –ë–î ‚Üí API ‚Üí Frontend
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 1. **–ú–æ–¥—É–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞**

**vestiru.py** (–í–µ—Å—Ç–∏.—Ä—É):
- –ü–∞—Ä—Å–∏—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–æ–Ω—Ç–µ–Ω—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –°–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `/media/images/`
- –£–Ω–∏–∫–∞–ª–∏–∑–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ OpenAI
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î

**ria_ru.py** (–†–ò–ê –ù–æ–≤–æ—Å—Ç–∏):
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ vestiru.py
- –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**youtube_module** (YouTube):
- `youtube_last_video_link.py` - –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤–∏–¥–µ–æ
- `extract_audio.py` - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∞—É–¥–∏–æ (yt-dlp)
- `extract_text.py` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ (Whisper AI)
- `youtube_video_content.py` - –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å

#### 2. **AI —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è**

**uniqalise_script.py**:
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 2 –∑–∞–ø—Ä–æ—Å–∞ –∫ OpenAI GPT-4o-mini:
  1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
  2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ API

#### 3. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**

**scrpaers_scheduler.py**:
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä—ã –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ asyncio
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–µ—Ä–æ–≤

#### 4. **API**

**feed_page/views.py**:
- `GET /api/feed/` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ç—å–∏ –≤ JSON
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

#### 5. **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**

**ContentSource** - –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π:
- –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, URL
- –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞
- –§–ª–∞–≥ YouTube –∫–∞–Ω–∞–ª–∞

**ArticleContent** - —Å—Ç–∞—Ç—å–∏:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫, –∫–æ–Ω—Ç–µ–Ω—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- –°–≤—è–∑—å —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–°–±–æ—Ä**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä—ã
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ**: –ü–∞—Ä—Å–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞**: AI —É–Ω–∏–∫–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –î–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã)
5. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è**: API –æ—Ç–¥–∞—ë—Ç —Å—Ç–∞—Ç—å–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. ‚ö†Ô∏è **SECRET_KEY** –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ settings.py
2. ‚ö†Ô∏è **DEBUG = True** –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
3. ‚ö†Ô∏è API –∫–ª—é—á–∏ –∏ –∫—Ä–µ–¥—ã –ø—Ä–æ–∫—Å–∏ –≤ –∫–æ–¥–µ
4. ‚ö†Ô∏è –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ `/var/www/...` –≤ –∫–æ–¥–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å python-decouple –∏–ª–∏ django-environ
from decouple import config

SECRET_KEY = config('SECRET_KEY')
DEBUG = config('DEBUG', default=False, cast=bool)
OPENAI_API_KEY = config('OPENAI_API_KEY')
```

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env`:
```
SECRET_KEY=your-secret-key
DEBUG=False
OPENAI_API_KEY=sk-...
DATABASE_PATH=/var/www/www-root/data/www/war_site/db.sqlite3
```

---

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ—Ö–æ–¥ —Å SQLite –Ω–∞ PostgreSQL (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ `article_link`, `created_at`

### 2. –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
- –ó–∞–º–µ–Ω–∞ `schedule` –Ω–∞ Celery + Redis
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞

### 3. API
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –≤ `/api/feed/`
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ Redis
- Rate limiting (django-ratelimit)

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- Prometheus + Grafana –¥–ª—è –º–µ—Ç—Ä–∏–∫
- Healthcheck —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 5. –ö–æ–¥
- –¢–µ—Å—Ç—ã (pytest-django)
- Pre-commit hooks (black, flake8, isort)
- Type hints (mypy)

---

## üìù –§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–°–æ–∑–¥–∞–Ω–æ 2 —Ñ–∞–π–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

1. **ARCHITECTURE.md** - –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
   - –î–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

2. **FIXES_SUMMARY.md** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –ö—Ä–∞—Ç–∫–∏–π –æ—Ç—á—ë—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

---

## ‚úÖ –ò—Ç–æ–≥–∏

**–í—Å–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: 10 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º
**–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤**: 3 (openai_copywriter_prompt.json, ARCHITECTURE.md, FIXES_SUMMARY.md)
**–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤**: 7

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –∫–æ–¥ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞—Ä—Å–µ—Ä–æ–≤
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production
4. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 2 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç**: War Site (militaryfocus.ru)
